static void f(String s,int c){String[] r=s.split("\n");int n=r.length;int stops=0;int[] e=new int[r.length];int[][] m=new int[r.length][r.length];for(int i=0;i<n;i++){for(String g:r[i].split("\\|")){if(!"".equals(g)) {int k=Integer.parseInt(g.split(":")[0]);int j=Integer.parseInt(g.split(":")[1]);j=j>4?j-1:j;m[n-i-1][j]=k;}}}int p=1;int f=0;boolean up=true;for(int i=0;i<n;i++){e[i]+=m[0][i];p+=m[0][i];m[0][i]=0;}while(p>1&&p<=c){stops++;for(;e[f]==0;){if(up)f++;else f--;}p-=e[f];e[f]=0;if (up){for(int i=f+1;i<n;i++){e[i]+=m[f][i];p+=m[f][i];m[f][i]=0;}boolean C=false;for(int i=f+1;i<n;i++){if(e[i]>0) C=true;}if(!C) {up=false;for(int i=f-1;i>= 0;i--) {e[i]+=m[f][i];p+=m[f][i];m[f][i]=0;}}}else{for(int i=f-1;i>=0;i--){e[i]+=m[f][i];p+=m[f][i];m[f][i]=0;}boolean C=false;for (int i=f-1;i>=0;i--){if(e[i]>0) C=true;}if(!C) {up=true;for(int i=f+1;i<n;i++){e[i]+=m[f][i];p+=m[f][i];m[f][i]=0;}}}}if(f>=4){f++;}if(p==1){System.out.print("lonely after "+stops+" stops at "+f+" floor");}else{System.out.print("polite after "+stops+" stops at "+f+" floor");}}
