function f(n){function t(n){return n.split("").filter(function(n,t,i){return i.indexOf(n)==t}).join("")}for(w=[/[~1234567890\-=`!@#$%^&*()_+]/,/[qwertyuiop[\]\\QWERTYUIOP{}|]/,/[asdfghjkl;'ASDFGHJKL:"]/,/[zxcvbnm,.\/ZXCVBNM<>?]/],d=["","","",""];n;)for(i=4;i--;)match=n.match(w[i]),match&&(d[i]+=match,n=n.replace(match,""));d=d.map(function(n,t){for(r=(""+w[t]).slice(2,-2),i=0;i<r.length;i++)n=n.split("").sort(function(n){return r[i]==n}).join("");return n}).filter(function(n){return n}).reduce(function(n,i){return n.length==i.length&&(n=t(n),i=t(i)),n.length<=i.length?c=n:c=i,t(c)}),console.log(d)}