function f(d){for(o=console.log.bind(console),s=[],l=[],t=[],r=[],i=0;i<d.length;i++)"\n"==d[i]?(s.push(l),l=[],t.push(r),r=[]):(l.push(d[i]),r.push(!1));for(l.length&&(s.push(l),t.push(r)),w=s.length,h=s[0].length,i=0;i<w;i++)for(j=0;j<h;j++)if(k=s[i][j],"v^<>".indexOf(k)>=0){for(dir=k,x=i,y=j;;){if("v"==dir?++x:"^"==dir?--x:">"==dir?++y:"<"==dir&&--y,x<0||x>=w||y<0||y>=h)break;if(k=s[x][y],"B"==k)return void o(":/");if(" "==k)s[x][y]="X";else{if("v^<>#".indexOf(k)>=0)break;if("@"==k){t[x][y]=!0;break}if("\\"==k)"v"==dir?dir=">":"^"==dir?dir="<":">"==dir?dir="v":"<"==dir&&(dir="^");else if("/"==k)"v"==dir?dir="<":"^"==dir?dir=">":">"==dir?dir="^":"<"==dir&&(dir="v");else if("0123456789".indexOf(k)>=0)i:for(var f=0;f<w;f++)for(var e=0;e<h;e++)if(s[f][e]==k&&(f!=x||e!=y)){x=f,y=e;break i}}}for(var f=0;f<w;f++)for(var e=0;e<h;e++)"X"==s[f][e]&&(s[f][e]="B")}for(i=0;i<w;i++)for(j=0;j<h;j++)if("@"==s[i][j]&&!t[i][j])return void o(":(");o(":D")}