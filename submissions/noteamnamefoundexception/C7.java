static void f(String b,int c){String[] fl=b.split("\n");int l=fl.length;int[][] q=new int[l][l];int i=l;for (String f:fl){--i;if(!"".equals(f)){for(String p:f.split("\\|")){int n=Integer.parseInt(p.split(":")[1]);n=n>3?n-1:n;q[i][n]=Integer.parseInt(p.split(":")[0]);}}}StringBuffer e=new StringBuffer();int f=0;int d=1;int s=0;boolean t=1==0;while(!t){boolean st=s==0||e.indexOf(String.valueOf(f))!=-1;e=cl(f,e);if(f==l-1||(f==0&&s!=0))d=-d;if(st){s++;fi(d,f,e,q[f]);}if(e.length()==0){d=-d;fi(d,f,e,q[f]);}f+=d;t=e.length()>=c||e.length()== 0;}s--;f=f-d;if(f>3)f++;if(e.length()>=c){System.out.print("polite after "+s+" stops at "+f+" floor");}else{System.out.print("lonely after "+s+" stops at "+f+" floor");}}private static StringBuffer cl(int f,StringBuffer e) {return new StringBuffer(e.toString().replaceAll(String.valueOf(f),""));}private static void fi(int d,int f,StringBuffer e,int[] q) {for(int i=0;i<q.length;i++) {if((d>0&&i>f)||(d<0&&i<f)){for(int j=0;j<q[i];j++){e.append(i);}q[i]=0;}}}