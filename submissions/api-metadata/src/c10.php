function f($a, $b){$c=$d=$e=$x=$y=0;$f=-1;$g=strpos($b,"\n")+1;$h=array();do{$k=$x*$g+$y;$l=$b[$k];if($f>=0){if($l=='X'){if(($x+1)*$g+$y<strlen($b)){goto N;}else{goto M;}}elseif(strpos(' /|\\',$l)){$e+=($l=='\\')-($l=='/');if(abs($e)>1){goto N;}$d++;}else {goto N;}}if(strpos(' .$',$l)){$f=$k;}$x++;if($x*$g+$y>=strlen($b)){M:if($f>=0&&$e==0&&$d>0){if($b[$f]=='$'){$c++;}else{$h[]=$f;}}N:if($y>=$g-2){break;}$d=$e=$x=0;$f=-1;$y++;}}while(1);if($a>$c){foreach($h as$o){$b[$o]='$';$c++;if($a==$c){break;}}}echo$a==$c?$b:($c==0?':(':$a-$c);}