static void f(String s,int n,int w){List<String> t=new List<String>();int i=0,j=0,k,l=s.Length;while(i<l){t.Add(s.Substring(i, Math.Min(w, l-i)));i += w;}k=(t.Count+n-1)/n*n;String o="";for (i = 0; i < k / n; i++){for(j=i;j<k;j+=k/n) {s = (t.Count<=(j))?"":t[j];if(s.Length<w)s+=new String(new char[w-s.Length]).Replace('\0',' ');o += s + "|";}o = o.Substring(0, o.Length - 1) + "\n";}Console.WriteLine(o);}