function f(q){var a=["123","456","789","147","258","369","159","357"];o=q.replace(/(.).?/g,'$1');x=q.replace(/.(.)?/g,'$1');var r="";for(var i=0;i<o.length;i++){for(var k=0;k<8;k++){var b=true;for(var j=0;j<3;j++){if(o.substring(0,i+1).indexOf(a[k][j])<0){b=false;}}if(b){r="O";break;}}if(r!="")break;for(var k=0;k<8;k++){var c=true;for(var j=0;j<3;j++){if(x.substring(0,i+1).indexOf(a[k][j])<0){c=false;}}if(c){r="X";break;}}if(r!="")break;}if(r=="")r="?";console.log(r);}