function f(c,d){var g=c.split('\n').reverse();if(g.length>3){g.splice(4,0,'')}var h=0;var i=[];var j=true;var k=true;var l=false;var m=0;var n=()=>k?1:-1;var o=e=>e.substring(2,3);var p=()=>i.length==0&&g[h].length>0;var q=()=>{var r=[];var s=[];g[h].split('|').map(f=>o(f)*n()>h*n()?r.push(f):s.push(f));if(r.length==0&&i.length==0){k=!k;r=s;s=[]}r.map(x=>i.push(x));g[h]=s.join('|')};var t=()=>{var u;if(i.length>0){u=i.reduce((a,b)=>(k?Math.min:Math.max)(a,o(b)),n()/0)}m++;h=u;if((g.length-1==h||0==h)&&p()){k=!k;l=true}};var v=()=>{if(i.length>0){i=i.filter(x=>o(x)!=h)}if(p()){l=true}};var w=()=>i.length>0?d<=i.reduce((a,b)=>a+parseInt(b.substring(0,1)),0):false;do{l=false;q();if(w()){j=false;break}t();v()}while(i.length!=0||l)console.log(`${j?'lonely':'polite'} after ${m} stops at ${h} floor`)}