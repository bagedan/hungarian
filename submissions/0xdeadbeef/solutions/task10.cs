static void f(int n,string s){var r=s.Split('\n').ToArray();var q=new char[r.Length][];for(var i=0;i<r.Length;i++)q[i]=r[i].ToCharArray();var p=q.Length;var v=0;var u=new List<Tuple<int,int>>();for(var i=0;i<q[0].Length;i++){if(q[p-1][i]=='X'){var h=0;for(var j=p-2;j>=0;j--){var c=q[j][i];if(c=='|'){}else if(c=='/'){if(h>0)break;h++;}else if(c=='\\'){if(h<0)break;h--;}else if(c=='$'){if(h==0)v++;break;}else if(c=='.'){if(h==0)u.Add(new Tuple<int,int>(i,j));break;}else break;}}}Action<object> a=Console.Write;if (u.Count+v==0){a(":(");return;}if(u.Count+v<n){a(n-(u.Count+v));return;}if(v>n){a(n-v);return;}u=u.Take(n-v).ToList();for(var i=0;i<q.Length;i++){for(var j=0;j<q[0].Length;j++){if (u.SingleOrDefault(t=>t.Item2==i&&t.Item1==j)!=null)a("$");else a(q[i][j]);}a("\n");}}