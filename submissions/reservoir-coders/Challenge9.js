function f(S) { var C, b, c, l, q, s, v, w, _i, _len; S = S.replace("1Up", "100"); l = 3; v = 0; b = false; q = S.split(' '); s = "???"; c = 0; for (_i = 0, _len = q.length; _i < _len; _i++) { w = q[_i]; if (w === "") { continue; } C = w[0]; if (C === 'P' || C === 'B') { s = "WIN"; break; } v--; if (C === 'g' || C === 'k' || C === 'p') { if (v < 0 && b === false) { l--; } if (v < 0) { b = false; } } else if (C >= 'a' && C <= 'z') { break; } if (/^\d/.test(C)) { c += +w; } while (c >= 100) { l++; c -= 100; } if (C === 'M') { b = true; } if (C === 'S') { v = 2; } if (l === 0) { s = "GAME OVER"; break; } } return console.log(s); }; f("C piranha piranha Pr"); f("piranha Princess piranha"); f("1Up koopa goomba piranha Bowser"); f("Mushroom piranha goomba piranha 1Up p Princess"); f("Star Mushroom piranha goomba piranha goomba Princess"); f("piranha piranha piranha piranha"); f("piranha piranha Star goomba goomba Princess"); f("10 40 koopa goomba 20 30 piranha piranha"); f("Star goomba goomba goomba Princess"); f("Star goomba traktor goomba Princess"); f("10 20 30 40 g 100 goomba goomba goomba Princess"); f("S S goomba goomba goomba goomba Princess");