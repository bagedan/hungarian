function f(n,s){var t=u(s);var l=0;var p="^X((/\\|*\\\\)*|(\\\\\\|*/)*|\\|*)*";var h=0;t.forEach(function(f){var g=new RegExp(p+"(\\$|\\.)").exec(f);if(g&&g.index>-1){h++;if(g[4]=='$')l++;}});var o=console.log;if(h===0)o(":(");else if(h<n)o(n-h);else if(l>n)o(n-l);else{t=t.map(function(f){var m=f;if(n-l>0){var e=new RegExp(p+"\\.").exec(f);if (e&&e.index>-1)m=f.replace("\.","\$");if(m!=f)l++;}return m;});o(u(t.reverse().join("\n")).reverse().join("\n"));}}
function u(s){var m=Math.max.apply(null,s.split('\n').map(function(m){return m.length}))+1;var st=[];for(i=0;i<m;i++)st[i]="";for(i=s.length-1;i>=0;i--)st[i%m]+=s[i];return st.slice(0,m-1);}