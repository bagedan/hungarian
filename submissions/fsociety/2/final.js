function f(s){x=9999,t='',k="`1234567890-=~!@#$%^&*()_+ qwertyuiop[]\\QWERTYUIOP{}| asdfghjkl;'  ASDFGHJKL:\"   zxcvbnm,./   ZXCVBNM<>?    ",z=[0,0,0,0],y=['','','',''],q=[];for(i=0;i<s.length;i++){r=Math.floor(k.indexOf(s[i])/27);z[r]++;if(y[r].indexOf(s[i])<0)y[r]+=s[i];}for(i=0;i<4;i++)y[i]=y[i].split('').sort((a,b)=>k.indexOf(a)-k.indexOf(b)).join('');m=x;for(i=0;i<4;i++)if(z[i]<m&&z[i]>0)m=z[i];for(i=0;i<4;i++)if(z[i]==m)q.push(i);if(q.length>1){m=x;for(i=0;i<4;i++)if(y[i].length<m&&y[i].length>0)m=y[i].length;j=[];for(i=0;i<4;i++)if(y[i].length==m)j.push(i);if(j.length>1){m=j[0];for(i=0;i<j.length;i++)if(j[i]<m&&j[i]>0)m=j[i];t+=y[m];}else{t+=y[j[0]]}}else{t=y[q[0]]}console.log(t);}