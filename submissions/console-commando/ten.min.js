function f(l,o){function t(l){return!/(\\\\|\/\/)/.test(l)&&(l.match(/\\/g)||[]).length-(l.match(/\//g)||[]).length==0}function e(l,o){return l.substr(0,o)+"$"+l.substr(o+1)}var n,s,u,c=[],f={l:0,u:0},g={},r=o.split("\n"),h=r[0].length;for(n=0;r[n];n++)for(s=0;r[n][s];s++)c[s]=(c[s]||"")+r[n][s];for(n=0;c[n];n++)u=c[n].match(/\$[|\\/]+X$/)||[],u[0]&&t(u[0])&&f.l++,u=c[n].match(/\.[|\\/]+X$/)||[],u[0]&&t(u[0])&&(g[f.u]={x:n,y:c[n].length-u[0].length},f.u++);if(f.u+f.l==0)console.log(":(");else if(l>f.u+f.l)console.log(l-f.u-f.l);else if(l<f.l)console.log(l-f.l);else{for(n=0;f.l+n<l;n++)o=e(o,(h+1)*g[n].y+g[n].x);console.log(o)}}