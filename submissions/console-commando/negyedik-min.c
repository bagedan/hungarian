#define z(p) x[w[i][p]]
void f(char *s){int w[8][3]={0,1,2,3,4,5,6,7,8,0,3,6,1,4,7,2,5,8,0,4,8,2,4,6};int x[8]={2,2,2,2,2,2,2,2};int i,r='?';for(i=0;i<strlen(s);++i){x[s[i]-49]=i%2;}for(i=0;i<8;++i){if(z(0)<2&&z(0)==z(1)&&z(0)==z(2)){r=z(0)?'X':'O';}}printf("%c",r);}