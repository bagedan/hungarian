function f(e){var s,t,y,a,o,x,r,c,f=[],n=[],i={v:{x:1,y:0},"^":{x:-1,y:0},">":{x:0,y:1},"<":{x:0,y:-1}},l={},b=0,g=0,k=!0,p=(e||"").split("\n");for(t=0;p[t];t++)for(f[t]=[],s=0;p[t][s];s++)!function(e){f[t][s]=e,/\d/.test(e)&&(l[e]=l[e]||[],l[e].push({x:t,y:s})),/[v>^<]/.test(e)&&n.push({x:t,y:s,t:e}),b+="@"==e?1:0}(p[t][s]);for(t=0;n[t];t++)for(y=n[t].x,a=n[t].y,x=n[t].t,o=!1,c=i[x];k&&!o&&f[y]&&f[y][a];)if(y+=c.x,a+=c.y,f[y])switch(f[y][a]){case" ":f[y][a]="=";break;case"=":k=!1;break;case"@":g++;case"#":o=!0;break;case"/":r=JSON.parse(JSON.stringify(c)),c.x=-1*r.y,c.y=-1*r.x;break;case"\\":r=JSON.parse(JSON.stringify(c)),c.x=1*r.y,c.y=1*r.x;break;default:r=f[y][a],/\d/.test(r)&&(l[r][0].x==y&&l[r][0].y==a?(y=l[r][1].x,a=l[r][1].y):(y=l[r][0].x,a=l[r][0].y)),/[v>^<]/.test(r)}k?b==g&&g>0?console.log(":D"):console.log(":("):console.log(":/")}