const int c=10;int w[8][c]={{0,1,1,1,0,0,0,0,0,0},{0,0,0,0,1,1,1,0,0,0},{0,0,0,0,0,0,0,1,1,1},{0,1,0,0,1,0,0,1,0,0},{0,0,1,0,0,1,0,0,1,0},{0,0,0,1,0,0,1,0,0,1},{0,1,0,0,0,1,0,0,0,1},{0,0,0,1,0,1,0,1,0,0}};bool e(int x[],int y[]){for(int i=0;i<c;i++){if(x[i]!=y[i])return false;}return true;}bool d(int a[]){for(int i=0;i<8;i++){int ic[c];memcpy(ic,a,c*sizeof(int));for(int j=0;j<c;j++){ic[j]&=w[i][j];}if(e(ic,w[i]))return true;}return false;}void f(std::string s){int x[10];int o[10];std::fill_n(x,10,0);std::fill_n(o,10,0);char w='?';for(int i=0;i<s.length()&&w=='?';i++){int p=s[i]-'0';if(i%2==0)o[p]=1;else x[p]=1;if(w=='?')w=d(x)?'X':(d(o)?'O':'?');}std::cout<<w;}
