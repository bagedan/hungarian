function f(f){function r(f){for(w="?",e="",o="",j=0;j<f.length;j++)j%2?e+=f[j]:o+=f[j];for(j=0;j<n.length;j++){if(t=n[j],-1!=o.indexOf(t[0])&&-1!=o.indexOf(t[1])&&-1!=o.indexOf(t[2]))return"O";if(-1!=e.indexOf(t[0])&&-1!=e.indexOf(t[1])&&-1!=e.indexOf(t[2]))return"X"}return w}for(n=[["1","2","3"],["4","5","6"],["7","8","9"],["1","4","7"],["2","5","8"],["3","6","9"],["1","5","9"],["3","5","7"]],w="?",i=0,c=5;i<f.length&&"?"==w;)w=r(f.substr(0,c)),i++,c++;console.log(w)}
